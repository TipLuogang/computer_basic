1. 应用层概述
    基本概念
        网络应用模型
            CS、P2P
    应用程序相关
        DNS，文件传输FTP，万维网WWW，电子邮件


2. 网络应用模型
    应用层对应用程序的通信提供服务
    应用层协议定义：
        应用进程交换的报文类型，请求还是响应？
        各种报文类型的语法，如报文中的各个字段及其详细描述
        字段的语义，即包含在字段中的信息的含义
        进程何时、如何发送报文，以及对报文进行响应的规则
    应用层功能：
        文件传输、访问和管理
        电子邮件
        虚拟终端
        查询服务和远程作业登录
    应用层的重要协议：
        FTP
        SMTP，POP3
        HTTP
        DNS

    CS模型
        服务器：提供计算服务的设备，固定的地址/域名，长期保持服务
        客户机：与服务器通信，间歇性接入网络，可能使用动态IP地址，不与其他客户机直接通信
        应用：web，文件传输FTP，远程登录，电子邮件

    P2P模型
        每个主机都可以提供服务，也可以请求服务
        不存在永远在线的服务器
        任意端系统/节点之间可以直接通讯
        节点间歇性接入网络
        节点可能改变IP地址
        可扩展性好，网络健壮性强

3.域名解析系统DNS
    域名 IP的映射关系
    http://www.cs.com----->DNS服务器------>202.01.01.01

    域名：www.cs.com, 由标号点号和横杆组成，每个标号的级别不一样，从左往右，由低到高
        com顶级域名
        cs二级域名
        www三级域名
    根：com后面的一个点，根后面的就是顶级域名
    顶级域名：
        国家顶级域名：cn，us，uk
        通用顶级域名：com，net，org，gov，int，aero，museeum，travel...
        基础结构域名/反向域名：arpa （由IP地址解析为域名的映射）
    二级域名：
        类别域名：ac，com，edu，gov，mil，net，org
        行政区域名：用于我国各省自治区直辖市，bj，js
        自己注册的域名：cctv，cskaoyan
    获得了二级域名的单位就可以获得三级域名...
    域名树

    由分布在各地的DNS服务器实现
    根域名服务器：本地域名服务器未命中时查询根域名服务器，包含所有顶级域名服务器的域名和IP地址 （在北美分布密集，在亚洲分布没那么密集，导致在亚洲上网速度低）
        org101、com102，edu103
    顶级域名服务器：管理该顶级域名服务器注册的所有二级域名 
        cs.com191、baidu.com192
    权限域名服务器：负责一个区的域名服务器,更加详细的查询，直到找到请求中域名对应的IP地址，返回给本地域名服务器
    本地域名服务器：当一个主机发出DNS查询请求时，这个查询请求报文就发给本地域名服务器，离用户最近

    域名解析过程
        递归查询（比较少用）：靠别人，本地-->根-->顶级-->权限, 返回则是从权限-->顶级-->根-->本地-->主机
        迭代查询：靠自己，本地没有，本地去查询根，根没有，则由本地去查顶级，顶级没有，则本地去查询权限（本地很忙）
    高速缓存（本地域名服务器）：
        最近查过的域名
        从哪里获得的域名映射信息
        定期更新
    主机中: 在开机时，从本地域名服务器下载域名和地址映射的数据库，放到自己的高速缓存中 

4.文件传输协议FTP
    TFTP（代码占内存小，适用于特殊设备；适用于UDP，文件同时向许多机器下载的情况）
    FTP：提供不同种类主机系统（硬、软件体系等都可以不同）之间的文件传输能力
        拷贝：上传、下载

    FTP服务器和用户端：
        用户通过一个客户机程序连接至在远程计算机上运行的服务器程序
        依照FTP协议提供服务，进行文件传送的计算机就是FTP服务器
        连接FTP服务器，遵循FTP协议与服务器传送文件的电脑就是FTP客户端
    FTP客户端软件：
        资源管理器中输入一个ftp地址
        Windows自带ftp命令
    
    FTP工作原理：
        登录  ftp地址   用户名&密码/匿名登录
        FTP使用TCP实现可靠传输
        FTP服务器进程：
            1个主进程
            n个从属进程
                控制进程（21端口）：连接始终保持
                数据传送进程（20端口，不一定20，可能大于1024）：文件传送完则关闭
5.电子邮件
    电子邮件
        信封：用于传送邮件，abc@163.com
        内容：
            首部：
                To：abc@163.com
                Subject：Hello！
            主题：balabala...
    
    组成结构：
        用户代理：电子邮件客户端软件，foxmaill，outlook
        邮件服务器：
        协议：
            发：
                SMTP（端口25，TCP连接）
                通用英特网邮件扩充MIME（扩充了SMTP或者POP3）
            收：
                POP3（端口110，TCP连接）、IMAP（收）
        SMTP--SMTP--POP3/IMAP
    基于万维网的电子邮件
        HTTP--SMTP--HTTP

6.万维网和HTTP协议
    万维网：大规模的、联机式的资料空间是无数个网络站点和网页的集合
    统一资源定位符URL唯一标识资源（文字视频音频）
    URL一般形式：<协议>://<主机>:<端口>/<路径>
        协议：http，ftp
        主机：域名，IP地址
        端口和路径有时候可以被省略掉
        例如：http://www.pku.edu.cn, URL不区分大小写
    资源通过HTTP协议传送给使用者

    HTTP协议：定义了浏览器怎样向服务器请求万维网文档，以及服务器怎样把文档传送给浏览器
    浏览器与服务器的交互见图（超文本传输协议HTTP.png）

    特点：
        HTTP协议是无状态的，实际中网站希望能够识别用户-->cookie
            cookie是存储在用户主机中的文本文件，记录一段时间内用户（使用识别码表示）的访问记录
        HTTP使用TCP作为运输层协议，但HTTP协议本身是无连接的（通信双方在交换HTTP报文之前不需要建立HTTP连接）
        HTTP的连接方式：
            持久连接（keep-alive）：在服务器发送响应之后在一段时间内仍然保持着这条连接，
                                使得客户端和服务器之间可以在这条连接上继续后续的一些HTTP请求报文以及响应报文
                非流水线：收到响应后才能发送一个新的请求，再收到一个响应（类似停等协议）
                流水线：可以连续/同时发送多个请求报文（类似GBN/SR协议），使得TCP连接的空闲时间比较少
            非持久连接（close）
        HTTP报文：
            请求报文
            响应报文





